<section cdkTrapFocus cdkTrapFocusAutoCapture="true">
    <span tabindex="-6" cdkFocusInitial></span>
    <p class="name-patient">Alfreds Futterkiste</p>
    <p class="email-patient">alfredsfutterkiste@gmail.com</p>
    <div class="flex detail">
        <div class="flex" *ngIf="!this.editing">
            <p class="category-title">Issue:</p>
            <p class="category">Clinic consulting</p>
        </div>

        <div *ngIf="this.editing" class="flex column">
            <label class="category-title">Issue:</label>
            <app-dropdown placeholder="Issue" class="issue">
                <app-dropdown-option>Clinic consulting</app-dropdown-option>
            </app-dropdown>
        </div>

        <div class="flex" *ngIf="!this.editing">
            <p class="category-title">Price (S/):</p>
            <p class="category">100</p>
        </div>

        <div *ngIf="this.editing" class="flex column">
            <label class="category-title">Price (S/):</label>
            <input type="number" class="primary-input" placeholder="Ex. 100">
        </div>

        <div class="flex" *ngIf="!this.editing">
            <i class='bx bx-calendar'></i>
            <p class="category">{{this.appointment.start | date: 'dd/MM/yyyy'}}</p>
        </div>

        <div *ngIf="this.editing" class="flex column">
            <label class="category-title">Date:</label>
            <app-date-picker [minDate]="minDate" [minYear]="this.minDate.getFullYear()" [(ngModel)]="this.date"></app-date-picker>
        </div>

        <div class="flex hours-wrapper" *ngIf="!this.editing">
            <div>
                <div class="circle"></div>
                <div class="flex line-wrapper">
                    <div class="line"></div>
                </div>
                <div class="circle"></div>
            </div>
            <div class="flex hours">
                <span class="hour">{{this.appointment.start.getHours()}}:00</span>
                <span class="hour">{{this.appointment.finish.getHours()}}:00</span>
            </div>
        </div>

        <div class="flex row" *ngIf="this.editing">
            <label class="category-title hour-label">From:</label>
            <app-dropdown placeholder="Start" class="hour-dropdown" [value]="this.startHour">
                <app-dropdown-option *ngFor="let hour of hours" [value]="hour">{{hour}}:00</app-dropdown-option>
            </app-dropdown>
        </div>

        <div class="flex row" *ngIf="this.editing">
            <label class="category-title hour-label">To:</label>
            <app-dropdown placeholder="Finish" class="hour-dropdown" [value]="this.finishHour">
                <app-dropdown-option *ngFor="let hour of hours" [value]="hour">{{hour}}:00</app-dropdown-option>
            </app-dropdown>
        </div>

        <div class="flex buttons" *ngIf="this.compareDates(appointment.start, minDate)">
            <button class="primary-button" (click)="this.onClickEdit()" *ngIf="!this.editing">Edit</button>
            <button class="primary-button" (click)="this.onClickStopEdit()" *ngIf="this.editing">Save</button>
            <button class="tertiary-button warning">Cancel appointment</button>
        </div>
    </div>
</section>
